import { Callout } from 'nextra-theme-docs';
import { ExampleTabs, ExampleTab, ExternalLink } from '@/components';
import { SWAGGER_TAGS } from '@/constants';
import { getLinkToSwaggerTag } from '@/utils';
import GaslessGo from './cookbook/gasless.go.mdx';
import GaslessTs from './cookbook/gasless.ts.mdx';
import GaslessJs from './cookbook/gasless.js.mdx';
import GaslessPy from './cookbook/gasless.py.mdx';
import EmulationTs from './cookbook/emulation.ts.mdx';
import SendTonTs from './cookbook/send-ton.ts.mdx';
import SendJettonTs from './cookbook/send-jetton.ts.mdx';
import TrackingTransactionHashTs from './cookbook/tracking-transaction-hash.ts.mdx';
import TrackingTransactionMessageBocTs from './cookbook/tracking-transaction-message-boc.ts.mdx';
import TrackingTransactionMessageManualTs from './cookbook/tracking-transaction-message-manual.ts.mdx';

# Cookbook

## TON Transfer

This recipe provides an example of sending TON using a mnemonic for signing. It covers deriving a wallet key, constructing a transaction, signing it, and broadcasting it to the blockchain.

<ExampleTabs>
  <ExampleTab label="TypeScript">
    <SendTonTs />
  </ExampleTab>
</ExampleTabs>

## Jetton Transfer

This recipe provides an example of sending Jettons using a mnemonic for signing. It covers deriving a wallet key, constructing a Jetton transfer transaction, signing it, and broadcasting it to the blockchain.

<ExampleTabs>
  <ExampleTab label="TypeScript">
    <SendJettonTs />
  </ExampleTab>
</ExampleTabs>

## Transaction Tracking

To reliably find a transaction from an external message (external-in) in the TON blockchain, use a normalized hash instead of a regular hash. External messages may slightly alter metadata when included in the blockchain, causing regular hashes to fail in locating the transaction.

Swagger documentation for Blockchain operations can be found <ExternalLink href={getLinkToSwaggerTag(SWAGGER_TAGS.BLOCKCHAIN)}>here</ExternalLink>.

<ExampleTabs>
  <ExampleTab label="TypeScript">
    <TrackingTransactionHashTs />
  </ExampleTab>
</ExampleTabs>

Use this method to reliably track, verify, or monitor transactions based on external messages.

### Getting the `Message` object

#### From a BOC

You may encounter BOC strings from various sources, for example, TonConnect (specifically after methods like `sendTransaction` or `send`), or from your own transaction logs. Here's how to parse a BOC string into a `Message` object:

<ExampleTabs>
  <ExampleTab label="TypeScript">
    <TrackingTransactionMessageBocTs />
  </ExampleTab>
</ExampleTabs>

#### Manual creation with ton/core

To manually create a `Message`, follow these steps:

<ExampleTabs>
  <ExampleTab label="TypeScript">
    <TrackingTransactionMessageManualTs />
  </ExampleTab>
</ExampleTabs>

Use this method to reliably track, verify, or monitor transactions based on external messages.

## Emulation

Originating from the [Emulation](/tonapi/rest-api/emulation) section of the REST API documentation, this recipe provides implementation examples for emulating transactions in TypeScript. Developers can use these examples to integrate emulation into their applications.

Swagger documentation for Emulation operations can be found <ExternalLink href={getLinkToSwaggerTag(SWAGGER_TAGS.EMULATION)}>here</ExternalLink>.

<ExampleTabs>
  <ExampleTab label="TypeScript">
    <EmulationTs />
  </ExampleTab>
</ExampleTabs>

## Gasless Transfer

Originating from the [Gasless](/tonapi/rest-api/gasless) section of the REST API documentation, this recipe provides implementation examples for gasless transactions in TypeScript, Go and Python. Developers can use these examples to integrate gasless transactions into their applications.

<Callout type="warning" emoji="ℹ️">
  Gasless transactions are currently not supported through TonConnect.
</Callout>

Swagger documentation for Gasless operations can be found <ExternalLink href={getLinkToSwaggerTag(SWAGGER_TAGS.GASLESS)}>here</ExternalLink>.

<ExampleTabs>
  <ExampleTab label="TypeScript">
    <GaslessTs />
  </ExampleTab>

  <ExampleTab label="JS (with fetch)">
    <GaslessJs />
  </ExampleTab>

  <ExampleTab label="Go">
    <GaslessGo />
  </ExampleTab>

  <ExampleTab label="Python">
    <GaslessPy />
  </ExampleTab>
</ExampleTabs>
```
