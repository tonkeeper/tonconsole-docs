(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4261],{33:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tonapi/dapp/free-limits",function(){return n(7062)}])},7062:function(e,i,n){"use strict";n.r(i),n.d(i,{__toc:function(){return t}});var s=n(5893),r=n(6997),o=n(2643);let t=[{depth:2,value:"Overview",id:"overview"},{depth:2,value:"How It Works",id:"how-it-works"},{depth:3,value:"Key Benefits",id:"key-benefits"},{depth:2,value:"Integration Guide",id:"integration-guide"},{depth:3,value:"1. Ensuring Proper API Key Usage",id:"1-ensuring-proper-api-key-usage"},{depth:3,value:"2. Restricting Your dApp to free high limit",id:"2-restricting-your-dapp-to-free-high-limit"},{depth:2,value:"Summary",id:"summary"}];function _createMdxContent(e){let i=Object.assign({h1:"h1",h2:"h2",p:"p",strong:"strong",a:"a",code:"code",h3:"h3",ul:"ul",li:"li",pre:"pre",span:"span"},(0,o.a)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{children:"Using free high TONAPI limits in your dApp with Tonkeeper"}),"\n",(0,s.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(i.p,{children:["TONAPI is already available for free, but with a default rate limit of ",(0,s.jsx)(i.strong,{children:"1 request per second (1 RPS)"}),". If your dApp requires higher limits, you can take advantage of Tonkeeper's built-in mechanism to gain additional API capacity at no extra cost."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"https://tonkeeper.com/",children:"Tonkeeper"})," introduces a way for dApps to access high TONAPI limits for free. This feature allows dApps running in the ",(0,s.jsx)(i.strong,{children:"Tonkeeper browser"})," or in ",(0,s.jsx)(i.strong,{children:"any browser with the Tonkeeper extension installed"})," to leverage a built-in proxy mechanism that optimizes API requests."]}),"\n",(0,s.jsx)(i.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsxs)(i.p,{children:["When a dApp is opened inside the Tonkeeper browser or a browser with the Tonkeeper extension, the global ",(0,s.jsx)(i.code,{children:"window.tonapi"})," object becomes available. If the dApp is using ",(0,s.jsx)(i.a,{href:"https://www.npmjs.com/package/@ton-api/client",children:"@ton-api/client"}),", it will automatically leverage this object. ",(0,s.jsx)(i.code,{children:"window.tonapi"})," provides a custom ",(0,s.jsx)(i.code,{children:"fetch"})," implementation that routes requests through Tonkeeper's internal proxy, sending them on behalf of Tonkeeper's TONAPI provider."]}),"\n",(0,s.jsx)(i.h3,{id:"key-benefits",children:"Key Benefits"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Higher rate limits:"})," Requests made via ",(0,s.jsx)(i.code,{children:"window.tonapi.fetch"})," are processed with higher TONAPI limits."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"No extra setup:"})," The dApp does not need to modify API callsâ€”just use ",(0,s.jsx)(i.code,{children:"@ton-api/client"})," as usual."]}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.strong,{children:"Works in the Tonkeeper browser and in any browser with the Tonkeeper extension installed."})}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"integration-guide",children:"Integration Guide"}),"\n",(0,s.jsx)(i.h3,{id:"1-ensuring-proper-api-key-usage",children:"1. Ensuring Proper API Key Usage"}),"\n",(0,s.jsxs)(i.p,{children:["Even when using ",(0,s.jsx)(i.code,{children:"window.tonapi.fetch"}),", you ",(0,s.jsx)(i.strong,{children:"must provide a valid TONAPI key"})," when initializing ",(0,s.jsx)(i.code,{children:"@ton-api/client"}),". The key can be a free-tier key, but it must be valid."]}),"\n",(0,s.jsx)(i.pre,{"data-language":"ts","data-theme":"default",children:(0,s.jsxs)(i.code,{"data-language":"ts","data-theme":"default",children:[(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" { TonApiClient } "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"@ton-api/client"'}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,s.jsx)(i.span,{className:"line",children:" "}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-constant)"},children:"tonApi"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-function)"},children:"TonApiClient"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"({"})]}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"    apiKey"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"your-valid-tonapi-key"'})]}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"});"})})]})}),"\n",(0,s.jsxs)(i.p,{children:["If ",(0,s.jsx)(i.code,{children:"window.tonapi"})," is available, ",(0,s.jsx)(i.code,{children:"@ton-api/client"})," will automatically use ",(0,s.jsx)(i.code,{children:"window.tonapi.fetch"})," for making requests."]}),"\n",(0,s.jsx)(i.h3,{id:"2-restricting-your-dapp-to-free-high-limit",children:"2. Restricting Your dApp to free high limit"}),"\n",(0,s.jsxs)(i.p,{children:["If you want to ensure that your dApp only functions in environments where ",(0,s.jsx)(i.code,{children:"window.tonapi"})," is available , you can enforce this restriction:"]}),"\n",(0,s.jsx)(i.pre,{"data-language":"ts","data-theme":"default",children:(0,s.jsxs)(i.code,{"data-language":"ts","data-theme":"default",children:[(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:".tonapi) {"})]}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-function)"},children:"alert"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"This dApp requires Tonkeeper to function properly."'}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:"throw"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-function)"},children:"Error"}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"window.tonapi is required"'}),(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,s.jsx)(i.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"window.tonapi.fetch"})," allows dApps running in the Tonkeeper browser or a browser with the Tonkeeper extension to use high TONAPI limits."]}),"\n",(0,s.jsxs)(i.li,{children:["You must provide a valid TONAPI key when initializing ",(0,s.jsx)(i.code,{children:"@ton-api/client"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["You can restrict your dApp to work only when ",(0,s.jsx)(i.code,{children:"window.tonapi"})," is available if you need high RPS."]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["For more details about methods, go to ",(0,s.jsx)(i.a,{href:"/tonapi/rest-api",children:"REST API section"}),"."]})]})}i.default=(0,r.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:i}=Object.assign({},(0,o.a)(),e.components);return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/tonapi/dapp/free-limits.mdx",route:"/tonapi/dapp/free-limits",timestamp:174160036e4,title:"Using free high TONAPI limits in your dApp with Tonkeeper",headings:t},pageNextRoute:"/tonapi/dapp/free-limits"})}},function(e){e.O(0,[6997,9774,2888,179],function(){return e(e.s=33)}),_N_E=e.O()}]);